<%= simple_form_for @post, html: { multipart: true, class: 'container mt-5' } do |f| %>
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
      <h3 class="hero-title mb-0"><%= t('post.edit.edit_article') %></h3>
    </div>
    <div class="card-body">
      <div class="f-inputs mb-4">
        <%= f.input :title, label: t('post.edit.title'), required: true, input_html: { class: 'form-control' } %>
      </div>

      <div class="f-inputs mb-4">
        <%= f.input :content, label: t('post.edit.description'), as: :text, required: true, input_html: { class: 'form-control', rows: 4 } %>
      </div>

      <div class="f-inputs mb-4">
        <%= f.input :category, label: t('post.edit.category'), required: true, input_html: { class: 'form-control' } %>
      </div>

      <div class="f-inputs mb-4">
        <%= f.input :photos, label: t('post.edit.images'), as: :file, input_html: { class: 'form-control-file', multiple: true } %>
      </div>

      <% if @post.photos.attached? %>
        <div class="mb-4">
          <h5><%= t('post.edit.current_images') %></h5>
          <div class="row">
            <% @post.photos.each do |photo| %>
              <div class="col-4 mb-3">
                <div class="image-preview">
                  <%= cl_image_tag photo.key, size: "100x100", class: 'img-fluid rounded' %>
                </div>
              </div>
            <% end %>
          </div>
        </div>
      <% else %>
        <p class="text-muted"><%= t('post.edit.no_images') %></p>
      <% end %>
    </div>

    <div class="card-footer text-center">
      <%= f.button :submit, t('post.edit.submit'), class: 'btn btn-primary btn-lg shadow-lg rounded-pill px-5' %>
    </div>
  </div>
<% end %>
