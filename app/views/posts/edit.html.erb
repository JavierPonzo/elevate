<%= simple_form_for @post, html: { multipart: true, class: 'container mt-5' } do |f| %>
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
      <h3 class="mb-0">Actualizar Artículo</h3>
    </div>
    <div class="card-body">
      <div class="f-inputs mb-4">
        <%= f.input :title, label: 'Título', required: true, input_html: { class: 'form-control' } %>
      </div>

      <div class="f-inputs mb-4">
        <%= f.input :content, label: 'Descripción', as: :text, required: true, input_html: { class: 'form-control', rows: 4 } %>
      </div>

      <div class="f-inputs mb-4">
        <%= f.input :category, label: 'Categoría', required: true, input_html: { class: 'form-control' } %>
      </div>

      <div class="f-inputs mb-4">
        <%= f.input :photos, label: 'Imágenes', as: :file, input_html: { class: 'form-control-file', multiple: true } %>
      </div>

      <% if @post.photos.attached? %>
        <div class="mb-4">
          <h5>Imágenes actuales:</h5>
          <div class="row">
            <% @post.photos.each do |photo| %>
              <div class="col-4 mb-3">
                <div class="image-preview">
                  <%= cl_image_tag photo.key, size: "100x100", class: 'img-fluid rounded' %>
                </div>
              </div>
            <% end %>
          </div>
        </div>
      <% else %>
        <p class="text-muted">No hay imágenes cargadas.</p>
      <% end %>
    </div>

    <div class="card-footer text-center">
      <%= f.button :submit, 'Actualizar Artículo', class: 'btn btn-primary btn-lg' %>
    </div>
  </div>
<% end %>
